<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Di√°k Randomiz√°l√≥</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 20px auto; padding: 20px; border: 1px solid #ccc; border-radius: 8px; }
        h1 { color: #333; }
        textarea { width: 100%; min-height: 100px; padding: 10px; margin-bottom: 15px; box-sizing: border-box; }
        button { padding: 10px 15px; margin-right: 10px; cursor: pointer; background-color: #007bff; color: white; border: none; border-radius: 5px; }
        button:hover { background-color: #0056b3; }
        input[type="number"] { padding: 8px; width: 80px; margin-left: 5px; border: 1px solid #ccc; border-radius: 4px; }
        .results { margin-top: 20px; padding: 15px; border: 1px solid #eee; background-color: #f9f9f9; border-radius: 5px; }
        .group-output { margin-bottom: 15px; padding: 10px; border: 1px solid #ddd; background-color: #fff; border-radius: 4px; }
    </style>
</head>
<body>

    <h1>Di√°kcsoport Randomiz√°l√≥ üé≤</h1>

    <p>√çrd be a di√°kok neveit vessz≈ëvel elv√°lasztva (pl. "Nagy √Åd√°m, Kis √âva, Kov√°cs P√©ter, ..."):</p>
    <textarea id="nameInput">Nagy √Åd√°m, Kis √âva, Kov√°cs P√©ter, T√≥th Vir√°g, Szab√≥ G√°bor, Varga Lili, Moln√°r D√°vid, Horv√°th Hanna</textarea>

    <div>
        <button onclick="randomSort()">1. Nevek random sorrendbe</button>
        <button onclick="drawStudent()">3. Egy di√°k kisorsol√°sa</button>
    </div>
    <div style="margin-top: 10px;">
        <button onclick="randomGroup()">2. Random csoportokba rendez√©s</button>
        <label for="groupSize">Csoportm√©ret:</label>
        <input type="number" id="groupSize" value="3" min="1">
    </div>

    <hr>

    <div class="results" id="output">
        V√°laszd ki a funkci√≥t!
    </div>

    <script>
        // Fisher-Yates (Knuth) kever√©si algoritmus: Egy t√∂mb elemeit keveri v√©letlenszer≈±en.
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Seg√©df√ºggv√©ny a nevek kinyer√©s√©re √©s tiszt√≠t√°s√°ra
        function getNames() {
            const input = document.getElementById('nameInput').value;
            // Nevek sz√©tv√°laszt√°sa vessz≈ëk √©s sz√≥k√∂z√∂k ment√©n, √ºres elemek elt√°vol√≠t√°sa
            return input.split(',').map(name => name.trim()).filter(name => name.length > 0);
        }

        // 1. Di√°knevek random sorba rak√°sa
        function randomSort() {
            const names = getNames();
            if (names.length === 0) {
                document.getElementById('output').innerHTML = '<p>K√©rlek, adj meg neveket!</p>';
                return;
            }

            const shuffledNames = shuffleArray([...names]); // A t√∂mb m√°solat√°nak kever√©se
            
            let outputHTML = '<h2>‚ú® Random Sorrend:</h2><ol>';
            shuffledNames.forEach(name => {
                outputHTML += `<li>${name}</li>`;
            });
            outputHTML += '</ol>';
            
            document.getElementById('output').innerHTML = outputHTML;
        }

        // 2. Di√°kcsoport random csoportokba rendez√©se
        function randomGroup() {
            const names = getNames();
            const groupSize = parseInt(document.getElementById('groupSize').value);

            if (names.length === 0) {
                document.getElementById('output').innerHTML = '<p>K√©rlek, adj meg neveket!</p>';
                return;
            }
            if (groupSize < 1 || isNaN(groupSize)) {
                document.getElementById('output').innerHTML = '<p>K√©rlek, √©rv√©nyes csoportm√©retet (legal√°bb 1) adj meg!</p>';
                return;
            }

            const shuffledNames = shuffleArray([...names]);
            const groups = [];
            let currentGroup = [];
            let groupNumber = 1;

            for (const name of shuffledNames) {
                currentGroup.push(name);
                if (currentGroup.length === groupSize) {
                    groups.push({ number: groupNumber++, members: currentGroup });
                    currentGroup = [];
                }
            }

            // Marad√©k di√°kok hozz√°ad√°sa a megl√©v≈ë csoportokhoz (egyenletesen)
            for (let i = 0; i < currentGroup.length; i++) {
                // A marad√©k di√°kot hozz√°adja az i. csoporthoz (ciklikusan)
                groups[i % groups.length].members.push(currentGroup[i]);
            }

            let outputHTML = `<h2>üë• Random Csoportok (${groupSize} f≈ës csoportm√©ret alapj√°n):</h2>`;
            if (groups.length === 0 && names.length > 0) {
                 // Ha kevesebb di√°k van, mint a csoportm√©ret
                outputHTML += `<div class="group-output"><h3>Csoport 1</h3><p>${shuffledNames.join(', ')}</p></div>`;
            } else {
                groups.forEach(group => {
                    outputHTML += `<div class="group-output"><h3>Csoport ${group.number} (${group.members.length} f≈ë)</h3><p>${group.members.join(', ')}</p></div>`;
                });
            }

            document.getElementById('output').innerHTML = outputHTML;
        }

        // 3. Egy tanul√≥ 'kisorsol√°sa'
        function drawStudent() {
            const names = getNames();
            if (names.length === 0) {
                document.getElementById('output').innerHTML = '<p>K√©rlek, adj meg neveket!</p>';
                return;
            }

            // V√©letlenszer≈± index v√°laszt√°sa
            const randomIndex = Math.floor(Math.random() * names.length);
            const winner = names[randomIndex];

            const outputHTML = `
                <h2>üèÜ Sorsolt Di√°k:</h2>
                <p style="font-size: 24px; font-weight: bold; color: #dc3545;">${winner}</p>
                <p>(${names.length} di√°k k√∂z√ºl sorsolva)</p>
            `;

            document.getElementById('output').innerHTML = outputHTML;
        }
    </script>
</body>
</html>
